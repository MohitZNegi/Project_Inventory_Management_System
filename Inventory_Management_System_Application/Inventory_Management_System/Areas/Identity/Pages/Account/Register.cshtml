@page
@model RegisterModel
@{
    ViewData["Title"] = "Register";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="~/css/site.css" rel="stylesheet">
    <title>@ViewData["Title"]</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            margin: 0;
        }

        .content {
            margin-top: 60px;
            padding: 20px;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent black */
            z-index: 999; /* Ensure it's behind the floating message */
            display: none; /* Initially hidden */
            backdrop-filter: blur(5px);
        }

        /* Styles for the floating message container */
        .floating-message {
            position: fixed;
            z-index: 1000;
            text-align:center;
            background-color: #0d6efd; /* Red background color for error message */
            color: white; /* Dark text color for error message */
            border: 2px solid white; /* Border color for error message */
            border-radius: 5px;
            padding: 20px;
            width: 325px; /* Adjust width as needed */
            height: 350px; /* Adjust height as needed */
            top: 50%; /* Position at the center vertically */
            left: 50%; /* Position at the center horizontally */
            transform: translate(-50%, -50%); /* Center the box */
            display: none;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(5px);
            animation: showFloatingMessage 0.5s ease-in; /* Delayed animation */
        }

        /* Styles for the close button */
        .close-message {
            position: absolute;
            top: 5px;
            right: 10px;
            cursor: pointer;
        }

        .login-container {
            background-color: #ffffff;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 40px;
            max-width: 400px;
            width: 100%;
            text-align: center;
            margin: auto;
        }

            .login-container h1 {
                text-align: center;
                margin-bottom: 20px;
            }

            .login-container p {
                text-align: center;
                margin-bottom: 30px;
            }

        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: normal;
        }

        input[type="email"],
        input[type="password"],
        input[type="text"] {
            width: 100%;
            padding: 8px;
            border-radius: 5px;
            border: 1px solid #ccc;
            margin-bottom: 10px;
        }

        button[type="submit"] {
            width: 100%;
            padding: 10px;
            background-color: black;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s, color 0.3s;
        }

            button[type="submit"]:hover {
                background-color: white !important;
                color: black !important;
                border: 1px solid black;
            }

        .social-login {
            margin-bottom: 20px;
        }

            .social-login button {
                width: 100%;
                padding: 10px;
                background-color: white;
                color: black;
                border: 1px solid black;
                border-radius: 5px;
                cursor: pointer;
                transition: background-color 0.3s, color 0.3s; /* Add transition for hover effect */
                margin-top: 15px;
            }

                .social-login button:hover {
                    background-color: #0d6efd;
                    color: white; /* Change text color on hover */
                    border: #0d6efd;
                }

        footer {
            background-color: #343a40;
            color: #fff;
            padding: 40px 0;
            text-align: left;
            width: 100%;
            position: absolute;
            margin-top: 20px;
            margin-left: -120px;
        }

            footer button.btn-primary {
                background-color: #0d6efd;
                border-color: #0d6efd;
                color: #fff;
                padding: 6px 10px;
                margin-top: 10px;
                font-size: 14px;
                width: 20%;
            }

            footer .form-group {
                margin-bottom: 0;
            }

            footer .signup-link {
                text-align: left;
                margin-top: 20px;
            }

                footer .signup-link a {
                    color: #007bff;
                }

            footer .input-group {
                margin-bottom: 10px;
            }

            footer .input-group-append .btn {
                padding: 8px 12px;
            }

            footer h4,
            footer h5 {
                font-size: 1.2rem;
                margin-bottom: 1rem;
            }

            footer ul {
                list-style: none;
                padding: 0;
            }

                footer ul li {
                    margin-bottom: 0.5rem;
                }

                    footer ul li a {
                        color: #fff;
                        text-decoration: none;
                    }

                        footer ul li a:hover {
                            color: #ccc;
                        }
    </style>
</head>
<body>

    <div class="overlay" id="overlay"></div>
    <div id="floatingMessage" class="floating-message">
        <span id="closeMessage" class="close-message">&times;</span>
        <h3>Welcome!</h3>
        <h3>Registration Pending Verification</h3>
        <p>We're excited to have you join us! Please note that both you and your company will need to be verified by an administrator before completing the registration process. Don't worry, we'll be in touch shortly after you sign up to guide you through the verification steps.</p>
    </div>



    <div class="content">
        <div class="login-container">
            <h1>Register</h1>
            <p>Create a new account.</p>
            <form id="registerForm" asp-route-returnUrl="@Model.ReturnUrl" method="post">
                <div class="form-group">
                    <label asp-for="Input.Name" class="form-label">Name*</label>
                    <input asp-for="Input.Name" class="form-control" autocomplete="name" aria-required="true" />
                    <span asp-validation-for="Input.Name" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="Input.Email" class="form-label">Email*</label>
                    <input asp-for="Input.Email" class="form-control" autocomplete="username" aria-required="true" />
                    <span asp-validation-for="Input.Email" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="Input.Password" class="form-label">Password*</label>
                    <input asp-for="Input.Password" type="password" class="form-control" autocomplete="new-password" aria-required="true" />
                    <span asp-validation-for="Input.Password" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label for="confirmPassword">Confirm Password*</label>
                    <input asp-for="Input.ConfirmPassword" class="form-control" id="confirmPassword" autocomplete="new-password" aria-required="true" />
                    <span asp-validation-for="Input.ConfirmPassword" class="text-danger"></span>
                </div>



                <button id="registerSubmit" type="submit" class="btn btn-primary">Register</button>
            </form>
            <div class="social-login">
                <button>
                    <img src="https://res.cloudinary.com/dup5hdi05/image/upload/v1715086435/Google-removebg-preview_qqctvv.png" alt="Google Logo" style="height: 20px; margin-bottom: 2px; margin-right: 2px;">
                    Sign Up with Google
                </button>
            </div>
            <div class="signup-link">
                <p>Already have an account? <a href="#">Log in</a></p>
            </div>
        </div>
    </div>
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-md-3">
                    <h4>Logo</h4>
                </div>
                <div class="col-md-3">
                    <h5>Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="#">Home</a></li>
                        <li><a href="#">Products</a></li>
                        <li><a href="#">About Us</a></li>
                        <li><a href="#">Contact</a></li>
                    </ul>
                </div>
                <div class="col-md-6">
                    <h4>Subscribe</h4>
                    <form>
                        <div class="form-group">
                            <input type="email" class="form-control" placeholder="Enter your email">
                        </div>
                        <button type="submit" class="btn btn-primary">Subscribe</button>
                    </form>
                    <p>Sign up to receive updates and special offers!</p>
                </div>
            </div>
        </div>
    </footer>

    <section>
        <!-- External login section if needed -->
    </section>

    @section Scripts {
        <partial name="_ValidationScriptsPartial" />
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                var confirmPasswordInput = document.getElementById("confirmPassword");
                var confirmErrorSpan = document.querySelector("[data-valmsg-for='Input.ConfirmPassword']");

                confirmPasswordInput.addEventListener("blur", function () {
                    var passwordInput = document.getElementById("Password");
                    if (passwordInput.value !== confirmPasswordInput.value) {
                        confirmErrorSpan.textContent = "The password and confirmation password do not match.";
                    } else {
                        confirmErrorSpan.textContent = "";
                    }
                });
            });
        </script>
        <script>
            document.addEventListener('DOMContentLoaded', function () {
                const overlay = document.getElementById('overlay');
                const floatingMessage = document.getElementById('floatingMessage');
                const closeMessage = document.getElementById('closeMessage');
                const signUpButton = document.getElementById('registerSubmit'); // Assuming your sign-up button has id="registerSubmit"
                const registerForm = document.getElementById('registerForm'); // Get the registration form

                // Show the floating message
                function showMessage() {
                    overlay.style.display = 'block';
                    floatingMessage.style.display = 'block';
                }

                // Close the floating message
                function closeFloatingMessage() {
                    overlay.style.display = 'none';
                    floatingMessage.style.animation = ''; // Remove animation to close smoothly
                    floatingMessage.style.display = 'none';
                }

                // Event listener for closing the message
                closeMessage.addEventListener('click', closeFloatingMessage);

                // Event listener for sign-up button click
                signUpButton.addEventListener('click', function (event) {
                    event.preventDefault(); // Prevent default form submission

                    // Check if the form is valid and all required fields are filled
                    if (registerForm.checkValidity() && validateFields()) {
                        showMessage();
                    } else {
                        // Optionally, provide feedback to the user about required fields
                        // For example, you can add a CSS class to highlight required fields with missing input
                    }
                });

                // Function to validate fields (you can customize this based on your form requirements)
                function validateFields() {
                    const nameInput = document.getElementById('Input_Name');
                    const emailInput = document.getElementById('Input_Email');
                    const passwordInput = document.getElementById('Input_Password');
                    const confirmPasswordInput = document.getElementById('confirmPassword');

                    // Check if any required field is empty
                    if (!nameInput.value || !emailInput.value || !passwordInput.value || !confirmPasswordInput.value) {
                        return false;
                    }

                    // Add any additional validation logic here (e.g., password strength, email format)

                    return true; // All fields are filled
                }
            });
        </script>
        }
</body>
</html>
