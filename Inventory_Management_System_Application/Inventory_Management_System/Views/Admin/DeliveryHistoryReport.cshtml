@model IEnumerable<Inventory_Management_System.ViewModels.DeliveryHistoryReportViewModel>

@{
    ViewData["Title"] = "Daily Delivery Report";
}


<h2>Daily Delivery Report</h2>

<div id="dailyDeliveriesChart" style="width: 800px; height: 400px;"></div>

@section Scripts {
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const dailyData = @Html.Raw(Json.Serialize(Model));

            const dates = dailyData.map(d => d.date);
            const counts = dailyData.map(d => d.count);

            const data = [{
                x: dates,
                y: counts,
                type: 'scatter',
                mode: 'lines+markers',
                marker: { color: 'steelblue' },
                line: { shape: 'linear' }
            }];

            const layout = {
                title: 'Daily Delivery Report',
                xaxis: { title: 'Date' },
                yaxis: { title: 'Number of Deliveries' }
            };

            Plotly.newPlot('dailyDeliveriesChart', data, layout);
        });
    </script>
}